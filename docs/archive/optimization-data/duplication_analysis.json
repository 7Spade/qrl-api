{
  "total_files": 226,
  "total_lines": 7131,
  "duplicate_lines": 406,
  "duplication_percentage": 5.693451128873931,
  "duplicate_blocks": [
    {
      "file1": "app/application/market/sync_cost.py",
      "file2": "app/application/market/sync_price.py",
      "line1_start": 16,
      "line1_end": 27,
      "line2_start": 16,
      "line2_end": 27,
      "lines": 12,
      "similarity": 1.0
    },
    {
      "file1": "app/application/market/sync_cost.py",
      "file2": "app/application/account/sync_balance.py",
      "line1_start": 16,
      "line1_end": 27,
      "line2_start": 19,
      "line2_end": 30,
      "lines": 12,
      "similarity": 1.0
    },
    {
      "file1": "app/application/market/sync_price.py",
      "file2": "app/application/account/sync_balance.py",
      "line1_start": 16,
      "line1_end": 27,
      "line2_start": 19,
      "line2_end": 30,
      "lines": 12,
      "similarity": 1.0
    },
    {
      "file1": "app/application/market/sync_cost.py",
      "file2": "app/application/market/sync_price.py",
      "line1_start": 17,
      "line1_end": 27,
      "line2_start": 17,
      "line2_end": 27,
      "lines": 11,
      "similarity": 1.0
    },
    {
      "file1": "app/application/market/sync_cost.py",
      "file2": "app/application/account/sync_balance.py",
      "line1_start": 17,
      "line1_end": 27,
      "line2_start": 20,
      "line2_end": 30,
      "lines": 11,
      "similarity": 1.0
    },
    {
      "file1": "app/application/market/sync_price.py",
      "file2": "app/application/account/sync_balance.py",
      "line1_start": 17,
      "line1_end": 27,
      "line2_start": 20,
      "line2_end": 30,
      "lines": 11,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/external/mexc/ws/ws_client.py",
      "file2": "app/infrastructure/exchange/mexc/ws/handlers.py",
      "line1_start": 11,
      "line1_end": 21,
      "line2_start": 5,
      "line2_end": 15,
      "lines": 11,
      "similarity": 1.0
    },
    {
      "file1": "app/application/market/sync_cost.py",
      "file2": "app/application/market/sync_price.py",
      "line1_start": 18,
      "line1_end": 27,
      "line2_start": 18,
      "line2_end": 27,
      "lines": 10,
      "similarity": 1.0
    },
    {
      "file1": "app/application/market/sync_cost.py",
      "file2": "app/application/account/sync_balance.py",
      "line1_start": 18,
      "line1_end": 27,
      "line2_start": 21,
      "line2_end": 30,
      "lines": 10,
      "similarity": 1.0
    },
    {
      "file1": "app/application/market/sync_price.py",
      "file2": "app/application/account/sync_balance.py",
      "line1_start": 18,
      "line1_end": 27,
      "line2_start": 21,
      "line2_end": 30,
      "lines": 10,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/external/mexc/ws/ws_client.py",
      "file2": "app/infrastructure/exchange/mexc/ws/handlers.py",
      "line1_start": 12,
      "line1_end": 21,
      "line2_start": 6,
      "line2_end": 15,
      "lines": 10,
      "similarity": 1.0
    },
    {
      "file1": "app/application/market/sync_cost.py",
      "file2": "app/application/market/sync_price.py",
      "line1_start": 19,
      "line1_end": 27,
      "line2_start": 19,
      "line2_end": 27,
      "lines": 9,
      "similarity": 1.0
    },
    {
      "file1": "app/application/market/sync_cost.py",
      "file2": "app/application/account/sync_balance.py",
      "line1_start": 19,
      "line1_end": 27,
      "line2_start": 22,
      "line2_end": 30,
      "lines": 9,
      "similarity": 1.0
    },
    {
      "file1": "app/application/market/sync_price.py",
      "file2": "app/application/account/sync_balance.py",
      "line1_start": 19,
      "line1_end": 27,
      "line2_start": 22,
      "line2_end": 30,
      "lines": 9,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/external/mexc/ws/ws_client.py",
      "file2": "app/infrastructure/exchange/mexc/ws/handlers.py",
      "line1_start": 13,
      "line1_end": 21,
      "line2_start": 7,
      "line2_end": 15,
      "lines": 9,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/repos/account/cost_calculator.py",
      "file2": "app/infrastructure/persistence/repos/account/cost_repository_core.py",
      "line1_start": 47,
      "line1_end": 55,
      "line2_start": 45,
      "line2_end": 53,
      "lines": 9,
      "similarity": 1.0
    },
    {
      "file1": "app/application/market/sync_cost.py",
      "file2": "app/application/market/sync_price.py",
      "line1_start": 20,
      "line1_end": 27,
      "line2_start": 20,
      "line2_end": 27,
      "lines": 8,
      "similarity": 1.0
    },
    {
      "file1": "app/application/market/sync_cost.py",
      "file2": "app/application/account/sync_balance.py",
      "line1_start": 20,
      "line1_end": 27,
      "line2_start": 23,
      "line2_end": 30,
      "lines": 8,
      "similarity": 1.0
    },
    {
      "file1": "app/application/market/sync_price.py",
      "file2": "app/application/account/sync_balance.py",
      "line1_start": 20,
      "line1_end": 27,
      "line2_start": 23,
      "line2_end": 30,
      "lines": 8,
      "similarity": 1.0
    },
    {
      "file1": "app/application/account/list_orders.py",
      "file2": "app/infrastructure/exchange/mexc/http/account/list_orders.py",
      "line1_start": 31,
      "line1_end": 38,
      "line2_start": 14,
      "line2_end": 21,
      "lines": 8,
      "similarity": 1.0
    },
    {
      "file1": "app/application/trading/services/trading/trading_workflow.py",
      "file2": "app/application/trading/services/trading/trading_service_core.py",
      "line1_start": 103,
      "line1_end": 110,
      "line2_start": 138,
      "line2_end": 145,
      "lines": 8,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/external/mexc/ws/ws_client.py",
      "file2": "app/infrastructure/exchange/mexc/ws/handlers.py",
      "line1_start": 14,
      "line1_end": 21,
      "line2_start": 8,
      "line2_end": 15,
      "lines": 8,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/repos/account/cost_calculator.py",
      "file2": "app/infrastructure/persistence/repos/account/cost_repository_core.py",
      "line1_start": 48,
      "line1_end": 55,
      "line2_start": 46,
      "line2_end": 53,
      "lines": 8,
      "similarity": 1.0
    },
    {
      "file1": "app/application/market/get_price.py",
      "file2": "app/infrastructure/exchange/mexc/http/market/get_price.py",
      "line1_start": 31,
      "line1_end": 37,
      "line2_start": 16,
      "line2_end": 22,
      "lines": 7,
      "similarity": 1.0
    },
    {
      "file1": "app/application/market/sync_cost.py",
      "file2": "app/application/market/sync_price.py",
      "line1_start": 21,
      "line1_end": 27,
      "line2_start": 21,
      "line2_end": 27,
      "lines": 7,
      "similarity": 1.0
    },
    {
      "file1": "app/application/market/sync_cost.py",
      "file2": "app/application/account/sync_balance.py",
      "line1_start": 21,
      "line1_end": 27,
      "line2_start": 24,
      "line2_end": 30,
      "lines": 7,
      "similarity": 1.0
    },
    {
      "file1": "app/application/market/sync_price.py",
      "file2": "app/application/account/sync_balance.py",
      "line1_start": 21,
      "line1_end": 27,
      "line2_start": 24,
      "line2_end": 30,
      "lines": 7,
      "similarity": 1.0
    },
    {
      "file1": "app/application/account/list_orders.py",
      "file2": "app/infrastructure/exchange/mexc/http/account/list_orders.py",
      "line1_start": 32,
      "line1_end": 38,
      "line2_start": 15,
      "line2_end": 21,
      "lines": 7,
      "similarity": 1.0
    },
    {
      "file1": "app/application/trading/services/trading/trading_workflow.py",
      "file2": "app/application/trading/services/trading/trading_service_core.py",
      "line1_start": 21,
      "line1_end": 27,
      "line2_start": 33,
      "line2_end": 39,
      "lines": 7,
      "similarity": 1.0
    },
    {
      "file1": "app/application/trading/services/trading/trading_workflow.py",
      "file2": "app/application/trading/services/trading/trading_service_core.py",
      "line1_start": 32,
      "line1_end": 38,
      "line2_start": 47,
      "line2_end": 53,
      "lines": 7,
      "similarity": 1.0
    },
    {
      "file1": "app/application/trading/services/trading/trading_workflow.py",
      "file2": "app/application/trading/services/trading/trading_service_core.py",
      "line1_start": 104,
      "line1_end": 110,
      "line2_start": 139,
      "line2_end": 145,
      "lines": 7,
      "similarity": 1.0
    },
    {
      "file1": "app/application/trading/services/trading/trading_workflow.py",
      "file2": "app/application/trading/services/trading/trading_service_core.py",
      "line1_start": 142,
      "line1_end": 148,
      "line2_start": 166,
      "line2_end": 172,
      "lines": 7,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/external/mexc/__init__.py",
      "file2": "app/infrastructure/external/mexc/ws/__init__.py",
      "line1_start": 4,
      "line1_end": 10,
      "line2_start": 3,
      "line2_end": 9,
      "lines": 7,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/external/mexc/ws/ws_client.py",
      "file2": "app/infrastructure/exchange/mexc/ws/handlers.py",
      "line1_start": 15,
      "line1_end": 21,
      "line2_start": 9,
      "line2_end": 15,
      "lines": 7,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/repos/account/cost_calculator.py",
      "file2": "app/infrastructure/persistence/repos/account/cost_repository_core.py",
      "line1_start": 49,
      "line1_end": 55,
      "line2_start": 47,
      "line2_end": 53,
      "lines": 7,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/repos/account/cost_repository_core.py",
      "file2": "app/infrastructure/persistence/redis/repos/cost.py",
      "line1_start": 26,
      "line1_end": 32,
      "line2_start": 12,
      "line2_end": 18,
      "lines": 7,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/repos/account/cost_repository_core.py",
      "file2": "app/domain/ports/cost_port.py",
      "line1_start": 26,
      "line1_end": 32,
      "line2_start": 16,
      "line2_end": 22,
      "lines": 7,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/redis/repos/cost.py",
      "file2": "app/domain/ports/cost_port.py",
      "line1_start": 12,
      "line1_end": 18,
      "line2_start": 16,
      "line2_end": 22,
      "lines": 7,
      "similarity": 1.0
    },
    {
      "file1": "app/application/market/get_price.py",
      "file2": "app/infrastructure/exchange/mexc/http/market/get_price.py",
      "line1_start": 32,
      "line1_end": 37,
      "line2_start": 17,
      "line2_end": 22,
      "lines": 6,
      "similarity": 1.0
    },
    {
      "file1": "app/application/market/sync_cost.py",
      "file2": "app/application/market/sync_price.py",
      "line1_start": 22,
      "line1_end": 27,
      "line2_start": 22,
      "line2_end": 27,
      "lines": 6,
      "similarity": 1.0
    },
    {
      "file1": "app/application/market/sync_cost.py",
      "file2": "app/application/account/sync_balance.py",
      "line1_start": 22,
      "line1_end": 27,
      "line2_start": 25,
      "line2_end": 30,
      "lines": 6,
      "similarity": 1.0
    },
    {
      "file1": "app/application/market/sync_price.py",
      "file2": "app/application/account/sync_balance.py",
      "line1_start": 22,
      "line1_end": 27,
      "line2_start": 25,
      "line2_end": 30,
      "lines": 6,
      "similarity": 1.0
    },
    {
      "file1": "app/application/account/list_orders.py",
      "file2": "app/infrastructure/exchange/mexc/http/account/list_orders.py",
      "line1_start": 33,
      "line1_end": 38,
      "line2_start": 16,
      "line2_end": 21,
      "lines": 6,
      "similarity": 1.0
    },
    {
      "file1": "app/application/trading/services/trading/trading_workflow.py",
      "file2": "app/application/trading/services/trading/trading_service_core.py",
      "line1_start": 22,
      "line1_end": 27,
      "line2_start": 34,
      "line2_end": 39,
      "lines": 6,
      "similarity": 1.0
    },
    {
      "file1": "app/application/trading/services/trading/trading_workflow.py",
      "file2": "app/application/trading/services/trading/trading_service_core.py",
      "line1_start": 33,
      "line1_end": 38,
      "line2_start": 48,
      "line2_end": 53,
      "lines": 6,
      "similarity": 1.0
    },
    {
      "file1": "app/application/trading/services/trading/trading_workflow.py",
      "file2": "app/application/trading/services/trading/trading_service_core.py",
      "line1_start": 105,
      "line1_end": 110,
      "line2_start": 140,
      "line2_end": 145,
      "lines": 6,
      "similarity": 1.0
    },
    {
      "file1": "app/application/trading/services/trading/trading_workflow.py",
      "file2": "app/application/trading/services/trading/trading_service_core.py",
      "line1_start": 143,
      "line1_end": 148,
      "line2_start": 167,
      "line2_end": 172,
      "lines": 6,
      "similarity": 1.0
    },
    {
      "file1": "app/application/trading/services/trading/position_updater.py",
      "file2": "app/application/trading/services/trading/trading_service_core.py",
      "line1_start": 32,
      "line1_end": 37,
      "line2_start": 193,
      "line2_end": 198,
      "lines": 6,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/bot_runtime/core.py",
      "file2": "app/infrastructure/bot_runtime/phases/__init__.py",
      "line1_start": 6,
      "line1_end": 11,
      "line2_start": 2,
      "line2_end": 7,
      "lines": 6,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/external/mexc/__init__.py",
      "file2": "app/infrastructure/external/mexc/ws/__init__.py",
      "line1_start": 5,
      "line1_end": 10,
      "line2_start": 4,
      "line2_end": 9,
      "lines": 6,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/external/mexc/__init__.py",
      "file2": "app/infrastructure/external/mexc/ws/__init__.py",
      "line1_start": 16,
      "line1_end": 21,
      "line2_start": 13,
      "line2_end": 18,
      "lines": 6,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/external/mexc/ws/ws_client.py",
      "file2": "app/infrastructure/exchange/mexc/ws/handlers.py",
      "line1_start": 16,
      "line1_end": 21,
      "line2_start": 10,
      "line2_end": 15,
      "lines": 6,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/repos/account/cost_calculator.py",
      "file2": "app/infrastructure/persistence/repos/account/cost_repository_core.py",
      "line1_start": 50,
      "line1_end": 55,
      "line2_start": 48,
      "line2_end": 53,
      "lines": 6,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/repos/account/cost_repository_core.py",
      "file2": "app/infrastructure/persistence/redis/repos/cost.py",
      "line1_start": 27,
      "line1_end": 32,
      "line2_start": 13,
      "line2_end": 18,
      "lines": 6,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/repos/account/cost_repository_core.py",
      "file2": "app/domain/ports/cost_port.py",
      "line1_start": 27,
      "line1_end": 32,
      "line2_start": 17,
      "line2_end": 22,
      "lines": 6,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/redis/repos/cost.py",
      "file2": "app/domain/ports/cost_port.py",
      "line1_start": 13,
      "line1_end": 18,
      "line2_start": 17,
      "line2_end": 22,
      "lines": 6,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/redis/repos/mexc_raw.py",
      "file2": "app/infrastructure/persistence/redis/repos/price.py",
      "line1_start": 29,
      "line1_end": 34,
      "line2_start": 58,
      "line2_end": 63,
      "lines": 6,
      "similarity": 1.0
    },
    {
      "file1": "app/interfaces/http/sub_account.py",
      "file2": "app/interfaces/http/account.py",
      "line1_start": 45,
      "line1_end": 49,
      "line2_start": 120,
      "line2_end": 124,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/interfaces/http/sub_account.py",
      "file2": "app/interfaces/http/bot.py",
      "line1_start": 45,
      "line1_end": 49,
      "line2_start": 52,
      "line2_end": 56,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/interfaces/http/market.py",
      "file2": "app/application/market/get_klines.py",
      "line1_start": 61,
      "line1_end": 65,
      "line2_start": 45,
      "line2_end": 49,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/interfaces/http/account.py",
      "file2": "app/interfaces/http/bot.py",
      "line1_start": 120,
      "line1_end": 124,
      "line2_start": 52,
      "line2_end": 56,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/application/market/get_price.py",
      "file2": "app/infrastructure/exchange/mexc/http/market/get_price.py",
      "line1_start": 33,
      "line1_end": 37,
      "line2_start": 18,
      "line2_end": 22,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/application/market/sync_cost.py",
      "file2": "app/application/market/sync_price.py",
      "line1_start": 23,
      "line1_end": 27,
      "line2_start": 23,
      "line2_end": 27,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/application/market/sync_cost.py",
      "file2": "app/application/account/sync_balance.py",
      "line1_start": 23,
      "line1_end": 27,
      "line2_start": 26,
      "line2_end": 30,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/application/market/sync_price.py",
      "file2": "app/application/account/sync_balance.py",
      "line1_start": 23,
      "line1_end": 27,
      "line2_start": 26,
      "line2_end": 30,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/application/account/list_orders.py",
      "file2": "app/infrastructure/exchange/mexc/http/account/list_orders.py",
      "line1_start": 34,
      "line1_end": 38,
      "line2_start": 17,
      "line2_end": 21,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/application/trading/services/__init__.py",
      "file2": "app/application/trading/services/trading/__init__.py",
      "line1_start": 29,
      "line1_end": 33,
      "line2_start": 8,
      "line2_end": 12,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/application/trading/services/market/market_service_core.py",
      "file2": "app/application/trading/services/trading/trading_service_core.py",
      "line1_start": 113,
      "line1_end": 117,
      "line2_start": 272,
      "line2_end": 276,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/application/trading/services/market/market_service_core.py",
      "file2": "app/application/trading/services/trading/trading_service_core.py",
      "line1_start": 113,
      "line1_end": 117,
      "line2_start": 292,
      "line2_end": 296,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/application/trading/services/market/market_service_core.py",
      "file2": "app/application/trading/services/trading/trading_service_core.py",
      "line1_start": 113,
      "line1_end": 117,
      "line2_start": 319,
      "line2_end": 323,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/application/trading/services/market/market_service_core.py",
      "file2": "app/application/trading/services/trading/trading_service_core.py",
      "line1_start": 136,
      "line1_end": 140,
      "line2_start": 272,
      "line2_end": 276,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/application/trading/services/market/market_service_core.py",
      "file2": "app/application/trading/services/trading/trading_service_core.py",
      "line1_start": 136,
      "line1_end": 140,
      "line2_start": 292,
      "line2_end": 296,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/application/trading/services/market/market_service_core.py",
      "file2": "app/application/trading/services/trading/trading_service_core.py",
      "line1_start": 136,
      "line1_end": 140,
      "line2_start": 319,
      "line2_end": 323,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/application/trading/services/trading/trading_workflow.py",
      "file2": "app/application/trading/services/trading/trading_service_core.py",
      "line1_start": 23,
      "line1_end": 27,
      "line2_start": 35,
      "line2_end": 39,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/application/trading/services/trading/trading_workflow.py",
      "file2": "app/application/trading/services/trading/trading_service_core.py",
      "line1_start": 34,
      "line1_end": 38,
      "line2_start": 49,
      "line2_end": 53,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/application/trading/services/trading/trading_workflow.py",
      "file2": "app/application/trading/services/trading/trading_service_core.py",
      "line1_start": 106,
      "line1_end": 110,
      "line2_start": 141,
      "line2_end": 145,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/application/trading/services/trading/trading_workflow.py",
      "file2": "app/application/trading/services/trading/trading_service_core.py",
      "line1_start": 112,
      "line1_end": 116,
      "line2_start": 200,
      "line2_end": 204,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/application/trading/services/trading/trading_workflow.py",
      "file2": "app/application/trading/services/trading/trading_service_core.py",
      "line1_start": 144,
      "line1_end": 148,
      "line2_start": 168,
      "line2_end": 172,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/application/trading/services/trading/position_updater.py",
      "file2": "app/application/trading/services/trading/trading_service_core.py",
      "line1_start": 33,
      "line1_end": 37,
      "line2_start": 194,
      "line2_end": 198,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/bot_runtime/core.py",
      "file2": "app/infrastructure/bot_runtime/phases/__init__.py",
      "line1_start": 7,
      "line1_end": 11,
      "line2_start": 3,
      "line2_end": 7,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/utils/utils_core.py",
      "file2": "app/infrastructure/utils/__init__.py",
      "line1_start": 14,
      "line1_end": 18,
      "line2_start": 15,
      "line2_end": 19,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/utils/redis_data_manager.py",
      "file2": "app/infrastructure/persistence/redis/cache/market.py",
      "line1_start": 3,
      "line1_end": 7,
      "line2_start": 3,
      "line2_end": 7,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/external/mexc/__init__.py",
      "file2": "app/infrastructure/external/mexc/ws/__init__.py",
      "line1_start": 6,
      "line1_end": 10,
      "line2_start": 5,
      "line2_end": 9,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/external/mexc/__init__.py",
      "file2": "app/infrastructure/external/mexc/ws/__init__.py",
      "line1_start": 17,
      "line1_end": 21,
      "line2_start": 14,
      "line2_end": 18,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/external/mexc/endpoints/helpers.py",
      "file2": "app/infrastructure/external/mexc/repos/sub_account_spot_repo.py",
      "line1_start": 83,
      "line1_end": 87,
      "line2_start": 29,
      "line2_end": 33,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/external/mexc/ws/ws_client.py",
      "file2": "app/infrastructure/exchange/mexc/ws/handlers.py",
      "line1_start": 17,
      "line1_end": 21,
      "line2_start": 11,
      "line2_end": 15,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/repos/account/cost_calculator.py",
      "file2": "app/infrastructure/persistence/repos/account/cost_repository_core.py",
      "line1_start": 51,
      "line1_end": 55,
      "line2_start": 49,
      "line2_end": 53,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/repos/account/cost_repository_core.py",
      "file2": "app/infrastructure/persistence/redis/repos/cost.py",
      "line1_start": 28,
      "line1_end": 32,
      "line2_start": 14,
      "line2_end": 18,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/repos/account/cost_repository_core.py",
      "file2": "app/domain/ports/cost_port.py",
      "line1_start": 28,
      "line1_end": 32,
      "line2_start": 18,
      "line2_end": 22,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/redis/cache/balance.py",
      "file2": "app/infrastructure/persistence/redis/cache/market.py",
      "line1_start": 53,
      "line1_end": 57,
      "line2_start": 91,
      "line2_end": 95,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/redis/cache/balance.py",
      "file2": "app/infrastructure/persistence/redis/cache/market.py",
      "line1_start": 53,
      "line1_end": 57,
      "line2_start": 127,
      "line2_end": 131,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/redis/cache/balance.py",
      "file2": "app/infrastructure/persistence/redis/cache/market.py",
      "line1_start": 90,
      "line1_end": 94,
      "line2_start": 91,
      "line2_end": 95,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/redis/cache/balance.py",
      "file2": "app/infrastructure/persistence/redis/cache/market.py",
      "line1_start": 90,
      "line1_end": 94,
      "line2_start": 127,
      "line2_end": 131,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/redis/cache/balance.py",
      "file2": "app/infrastructure/persistence/redis/repos/cost.py",
      "line1_start": 53,
      "line1_end": 57,
      "line2_start": 18,
      "line2_end": 22,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/redis/cache/balance.py",
      "file2": "app/infrastructure/persistence/redis/repos/cost.py",
      "line1_start": 90,
      "line1_end": 94,
      "line2_start": 18,
      "line2_end": 22,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/redis/cache/balance.py",
      "file2": "app/infrastructure/persistence/redis/repos/position_layers.py",
      "line1_start": 53,
      "line1_end": 57,
      "line2_start": 15,
      "line2_end": 19,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/redis/cache/balance.py",
      "file2": "app/infrastructure/persistence/redis/repos/position_layers.py",
      "line1_start": 90,
      "line1_end": 94,
      "line2_start": 15,
      "line2_end": 19,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/redis/cache/balance.py",
      "file2": "app/infrastructure/persistence/redis/repos/price.py",
      "line1_start": 53,
      "line1_end": 57,
      "line2_start": 16,
      "line2_end": 20,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/redis/cache/balance.py",
      "file2": "app/infrastructure/persistence/redis/repos/price.py",
      "line1_start": 53,
      "line1_end": 57,
      "line2_start": 35,
      "line2_end": 39,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/redis/cache/balance.py",
      "file2": "app/infrastructure/persistence/redis/repos/price.py",
      "line1_start": 53,
      "line1_end": 57,
      "line2_start": 80,
      "line2_end": 84,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/redis/cache/balance.py",
      "file2": "app/infrastructure/persistence/redis/repos/price.py",
      "line1_start": 90,
      "line1_end": 94,
      "line2_start": 16,
      "line2_end": 20,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/redis/cache/balance.py",
      "file2": "app/infrastructure/persistence/redis/repos/price.py",
      "line1_start": 90,
      "line1_end": 94,
      "line2_start": 35,
      "line2_end": 39,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/redis/cache/balance.py",
      "file2": "app/infrastructure/persistence/redis/repos/price.py",
      "line1_start": 90,
      "line1_end": 94,
      "line2_start": 80,
      "line2_end": 84,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/redis/cache/balance.py",
      "file2": "app/infrastructure/persistence/redis/repos/bot_status.py",
      "line1_start": 53,
      "line1_end": 57,
      "line2_start": 16,
      "line2_end": 20,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/redis/cache/balance.py",
      "file2": "app/infrastructure/persistence/redis/repos/bot_status.py",
      "line1_start": 90,
      "line1_end": 94,
      "line2_start": 16,
      "line2_end": 20,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/redis/cache/market.py",
      "file2": "app/infrastructure/persistence/redis/repos/cost.py",
      "line1_start": 91,
      "line1_end": 95,
      "line2_start": 18,
      "line2_end": 22,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/redis/cache/market.py",
      "file2": "app/infrastructure/persistence/redis/repos/cost.py",
      "line1_start": 127,
      "line1_end": 131,
      "line2_start": 18,
      "line2_end": 22,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/redis/cache/market.py",
      "file2": "app/infrastructure/persistence/redis/repos/position_layers.py",
      "line1_start": 91,
      "line1_end": 95,
      "line2_start": 15,
      "line2_end": 19,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/redis/cache/market.py",
      "file2": "app/infrastructure/persistence/redis/repos/position_layers.py",
      "line1_start": 127,
      "line1_end": 131,
      "line2_start": 15,
      "line2_end": 19,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/redis/cache/market.py",
      "file2": "app/infrastructure/persistence/redis/repos/price.py",
      "line1_start": 91,
      "line1_end": 95,
      "line2_start": 16,
      "line2_end": 20,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/redis/cache/market.py",
      "file2": "app/infrastructure/persistence/redis/repos/price.py",
      "line1_start": 91,
      "line1_end": 95,
      "line2_start": 35,
      "line2_end": 39,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/redis/cache/market.py",
      "file2": "app/infrastructure/persistence/redis/repos/price.py",
      "line1_start": 91,
      "line1_end": 95,
      "line2_start": 80,
      "line2_end": 84,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/redis/cache/market.py",
      "file2": "app/infrastructure/persistence/redis/repos/price.py",
      "line1_start": 127,
      "line1_end": 131,
      "line2_start": 16,
      "line2_end": 20,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/redis/cache/market.py",
      "file2": "app/infrastructure/persistence/redis/repos/price.py",
      "line1_start": 127,
      "line1_end": 131,
      "line2_start": 35,
      "line2_end": 39,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/redis/cache/market.py",
      "file2": "app/infrastructure/persistence/redis/repos/price.py",
      "line1_start": 127,
      "line1_end": 131,
      "line2_start": 80,
      "line2_end": 84,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/redis/cache/market.py",
      "file2": "app/infrastructure/persistence/redis/repos/bot_status.py",
      "line1_start": 91,
      "line1_end": 95,
      "line2_start": 16,
      "line2_end": 20,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/redis/cache/market.py",
      "file2": "app/infrastructure/persistence/redis/repos/bot_status.py",
      "line1_start": 127,
      "line1_end": 131,
      "line2_start": 16,
      "line2_end": 20,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/redis/repos/cost.py",
      "file2": "app/infrastructure/persistence/redis/repos/position_layers.py",
      "line1_start": 18,
      "line1_end": 22,
      "line2_start": 15,
      "line2_end": 19,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/redis/repos/cost.py",
      "file2": "app/infrastructure/persistence/redis/repos/price.py",
      "line1_start": 18,
      "line1_end": 22,
      "line2_start": 16,
      "line2_end": 20,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/redis/repos/cost.py",
      "file2": "app/infrastructure/persistence/redis/repos/price.py",
      "line1_start": 18,
      "line1_end": 22,
      "line2_start": 35,
      "line2_end": 39,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/redis/repos/cost.py",
      "file2": "app/infrastructure/persistence/redis/repos/price.py",
      "line1_start": 18,
      "line1_end": 22,
      "line2_start": 80,
      "line2_end": 84,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/redis/repos/cost.py",
      "file2": "app/infrastructure/persistence/redis/repos/bot_status.py",
      "line1_start": 18,
      "line1_end": 22,
      "line2_start": 16,
      "line2_end": 20,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/redis/repos/cost.py",
      "file2": "app/domain/ports/cost_port.py",
      "line1_start": 14,
      "line1_end": 18,
      "line2_start": 18,
      "line2_end": 22,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/redis/repos/position_layers.py",
      "file2": "app/infrastructure/persistence/redis/repos/price.py",
      "line1_start": 15,
      "line1_end": 19,
      "line2_start": 16,
      "line2_end": 20,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/redis/repos/position_layers.py",
      "file2": "app/infrastructure/persistence/redis/repos/price.py",
      "line1_start": 15,
      "line1_end": 19,
      "line2_start": 35,
      "line2_end": 39,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/redis/repos/position_layers.py",
      "file2": "app/infrastructure/persistence/redis/repos/price.py",
      "line1_start": 15,
      "line1_end": 19,
      "line2_start": 80,
      "line2_end": 84,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/redis/repos/position_layers.py",
      "file2": "app/infrastructure/persistence/redis/repos/bot_status.py",
      "line1_start": 15,
      "line1_end": 19,
      "line2_start": 16,
      "line2_end": 20,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/redis/repos/mexc_raw.py",
      "file2": "app/infrastructure/persistence/redis/repos/price.py",
      "line1_start": 30,
      "line1_end": 34,
      "line2_start": 59,
      "line2_end": 63,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/redis/repos/price.py",
      "file2": "app/infrastructure/persistence/redis/repos/bot_status.py",
      "line1_start": 16,
      "line1_end": 20,
      "line2_start": 16,
      "line2_end": 20,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/redis/repos/price.py",
      "file2": "app/infrastructure/persistence/redis/repos/bot_status.py",
      "line1_start": 27,
      "line1_end": 31,
      "line2_start": 26,
      "line2_end": 30,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/redis/repos/price.py",
      "file2": "app/infrastructure/persistence/redis/repos/bot_status.py",
      "line1_start": 35,
      "line1_end": 39,
      "line2_start": 16,
      "line2_end": 20,
      "lines": 5,
      "similarity": 1.0
    },
    {
      "file1": "app/infrastructure/persistence/redis/repos/price.py",
      "file2": "app/infrastructure/persistence/redis/repos/bot_status.py",
      "line1_start": 80,
      "line1_end": 84,
      "line2_start": 16,
      "line2_end": 20,
      "lines": 5,
      "similarity": 1.0
    }
  ],
  "duplicate_functions": {
    "_get_mexc_client()": [
      [
        "app/interfaces/http/sub_account.py",
        13
      ],
      [
        "app/interfaces/http/market.py",
        17
      ],
      [
        "app/interfaces/http/account.py",
        23
      ]
    ],
    "_require_scheduler_auth(x_cloudscheduler, authorization)": [
      [
        "app/application/market/sync_cost.py",
        16
      ],
      [
        "app/application/market/sync_price.py",
        16
      ],
      [
        "app/application/account/sync_balance.py",
        19
      ]
    ],
    "__init__(self)": [
      [
        "app/application/trading/services/market/cache_service.py",
        12
      ],
      [
        "app/application/trading/services/market/price_repo_service.py",
        12
      ],
      [
        "app/application/trading/services/market/mexc_client_service.py",
        12
      ],
      [
        "app/application/trading/services/trading/strategy_service.py",
        13
      ],
      [
        "app/application/trading/services/trading/repository_service.py",
        12
      ],
      [
        "app/application/trading/services/trading/risk_service.py",
        12
      ],
      [
        "app/application/trading/services/trading/position_service.py",
        12
      ],
      [
        "app/infrastructure/persistence/redis/client.py",
        45
      ]
    ],
    "__init__(self, mexc_client, price_repo)": [
      [
        "app/application/trading/services/market/price_resolver.py",
        6
      ],
      [
        "app/application/trading/services/trading/price_resolver.py",
        8
      ]
    ],
    "__init__(self, redis_client)": [
      [
        "app/infrastructure/utils/redis_data_manager.py",
        15
      ],
      [
        "app/infrastructure/persistence/repos/market/price_repository_core.py",
        17
      ],
      [
        "app/infrastructure/persistence/repos/trade/trade_repository_core.py",
        18
      ],
      [
        "app/infrastructure/persistence/repos/account/position_repository_core.py",
        17
      ],
      [
        "app/infrastructure/persistence/repos/account/cost_repository_core.py",
        23
      ]
    ],
    "decorator(func)": [
      [
        "app/infrastructure/utils/decorators.py",
        17
      ],
      [
        "app/infrastructure/utils/decorators.py",
        34
      ],
      [
        "app/infrastructure/utils/decorators.py",
        53
      ]
    ],
    "_redis_client(self)": [
      [
        "app/infrastructure/persistence/redis/cache/balance.py",
        16
      ],
      [
        "app/infrastructure/persistence/redis/cache/market.py",
        18
      ],
      [
        "app/infrastructure/persistence/redis/repos/trade_counter.py",
        10
      ],
      [
        "app/infrastructure/persistence/redis/repos/cost.py",
        9
      ],
      [
        "app/infrastructure/persistence/redis/repos/position_layers.py",
        10
      ],
      [
        "app/infrastructure/persistence/redis/repos/mexc_raw.py",
        8
      ],
      [
        "app/infrastructure/persistence/redis/repos/position.py",
        10
      ],
      [
        "app/infrastructure/persistence/redis/repos/price.py",
        11
      ],
      [
        "app/infrastructure/persistence/redis/repos/bot_status.py",
        11
      ],
      [
        "app/infrastructure/persistence/redis/repos/trade_history.py",
        10
      ]
    ],
    "generate_signal(self, price, short_prices, long_prices, avg_cost)": [
      [
        "app/domain/strategies/trading_strategy.py",
        30
      ],
      [
        "app/domain/strategies/base.py",
        11
      ]
    ]
  },
  "common_patterns": {
    "src.app imports": 183,
    "try-except blocks": 103,
    "validation checks": 94
  }
}