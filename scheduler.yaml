# Cloud Scheduler Configuration for QRL Trading Bot
# Triggers the trading bot every 3 minutes
#
# Deploy using:
#   gcloud scheduler jobs create http qrl-trading-api-trigger \
#     --schedule="*/3 * * * *" \
#     --uri="https://YOUR_CLOUD_RUN_URL/execute" \
#     --http-method=POST \
#     --location=asia-east1 \
#     --description="QRL/USDT trading bot - executes every 3 minutes" \
#     --attempt-deadline=180s \
#     --max-retry-attempts=3 \
#     --min-backoff=30s \
#     --max-backoff=120s \
#     --headers="Content-Type=application/json" \
#     --oidc-service-account-email=YOUR_SERVICE_ACCOUNT@PROJECT_ID.iam.gserviceaccount.com

---
# Scheduler Job Configuration Details
name: qrl-trading-api-trigger
description: "QRL/USDT accumulation trading bot - every 3 minutes"
schedule: "*/3 * * * *"  # Every 3 minutes
timezone: "Asia/Taipei"  # UTC+8
httpTarget:
  uri: "https://YOUR_CLOUD_RUN_URL/execute"
  httpMethod: POST
  headers:
    Content-Type: application/json
  oidcToken:
    serviceAccountEmail: "YOUR_SERVICE_ACCOUNT@PROJECT_ID.iam.gserviceaccount.com"
retryConfig:
  retryCount: 3
  maxRetryDuration: 300s  # 5 minutes max retry duration
  minBackoffDuration: 30s
  maxBackoffDuration: 120s
  maxDoublings: 2
attemptDeadline: 180s  # 3 minutes timeout (same as schedule interval)
